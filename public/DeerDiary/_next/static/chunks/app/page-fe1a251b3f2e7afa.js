(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5289:function(e,t,a){Promise.resolve().then(a.bind(a,178))},178:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var r=a(288),n=a(1204),s=a(5192),i=a(1676),l=a(7719),o=a(6056);function d(e){let{className:t,...a}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,o.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}var c=a(6835),u=a(2019),m=a(1276),h=a(4552),v=a(5406),x=a(5887),f=a(8566),g=a(5517),b=a(1741),p=a(7393),y=a(1258),w=a(7928),j=a(6021);let N=(0,j.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var k=a(6650);let z=(0,j.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var C=a(5415);let S=[{icon:u.Z,label:"Sunny",value:"sunny"},{icon:m.Z,label:"Cloudy",value:"cloudy"},{icon:h.Z,label:"Rainy",value:"rainy"},{icon:v.Z,label:"Snowy",value:"snowy"}],Z=[{icon:x.Z,label:"Happy",value:"happy",color:"bg-green-500/20 text-green-300"},{icon:f.Z,label:"Loved",value:"loved",color:"bg-pink-500/20 text-pink-300"},{icon:g.Z,label:"Okay",value:"okay",color:"bg-yellow-500/20 text-yellow-300"},{icon:b.Z,label:"Sad",value:"sad",color:"bg-blue-500/20 text-blue-300"}],D=[{icon:p.Z,label:"Alone",value:"alone"},{icon:y.Z,label:"Family",value:"family"},{icon:w.Z,label:"Friends",value:"friends"},{icon:f.Z,label:"Partner",value:"partner"}];function M(){let[e,t]=(0,s.useState)(!1),[a,o]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[v,x]=(0,s.useState)(""),[f,g]=(0,s.useState)(""),[b,p]=(0,s.useState)([]),y=(0,s.useRef)(null),[w,j]=(0,s.useState)(!1),[M,E]=(0,s.useState)(null),[L,_]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=y.current;if(!e)return;let a=()=>{e.width=window.innerWidth,e.height=window.innerHeight};a(),window.addEventListener("resize",a);let r=localStorage.getItem("deerDiary-darkMode");if(r){let e="true"===r;t(e),e&&document.documentElement.classList.add("dark")}return()=>{window.removeEventListener("resize",a)}},[]);let T=e=>{j(!0);let t=y.current;if(!t)return;let a=t.getBoundingClientRect(),r="touches"in e?e.touches[0].clientX:e.clientX,n="touches"in e?e.touches[0].clientY:e.clientY;E({x:r-a.left,y:n-a.top})},A=t=>{if(!w||!M)return;let a=y.current,r=null==a?void 0:a.getContext("2d");if(!a||!r)return;let n=a.getBoundingClientRect(),s="touches"in t?t.touches[0].clientX:t.clientX,i="touches"in t?t.touches[0].clientY:t.clientY,l={x:s-n.left,y:i-n.top};r.beginPath(),r.moveTo(M.x,M.y),r.lineTo(l.x,l.y),e?(r.strokeStyle="#f0f0f0",r.lineWidth=4,r.lineCap="round",r.globalAlpha=.8,r.shadowBlur=2,r.shadowColor="#ffffff"):(r.strokeStyle="#2d3748",r.lineWidth=2,r.lineCap="round",r.globalAlpha=.7,r.shadowBlur=0),r.stroke(),E(l)},W=()=>{j(!1),E(null)},Y=(e,t)=>e.find(e=>e.value===t);return(0,r.jsxs)("div",{className:"min-h-screen ".concat(e?"blackboard-bg dark":"notebook-bg"," relative overflow-hidden"),children:[(0,r.jsx)("canvas",{ref:y,className:"absolute inset-0 z-5 pointer-events-auto cursor-crosshair",onMouseDown:T,onMouseMove:A,onMouseUp:W,onMouseLeave:W,onTouchStart:T,onTouchMove:A,onTouchEnd:W,style:{touchAction:"none"}}),(0,r.jsxs)("div",{className:"relative z-10 container mx-auto px-4 py-8 max-w-4xl pointer-events-none",children:[(0,r.jsxs)("header",{className:"text-center mb-8 relative",children:[(0,r.jsx)(n.default,{href:"/history",children:(0,r.jsxs)(l.z,{variant:"outline",size:"sm",className:"absolute top-0 left-0 flex items-center gap-2 bg-transparent pointer-events-auto",children:[(0,r.jsx)(N,{className:"w-4 h-4"}),"History"]})}),(0,r.jsxs)(l.z,{onClick:()=>{let a=!e;t(a),localStorage.setItem("deerDiary-darkMode",a.toString()),document.documentElement.classList.toggle("dark");let r=y.current,n=null==r?void 0:r.getContext("2d");r&&n&&n.clearRect(0,0,r.width,r.height)},variant:"outline",size:"sm",className:"absolute top-0 right-0 flex items-center gap-2 bg-transparent pointer-events-auto",children:[e?(0,r.jsx)(u.Z,{className:"w-4 h-4"}):(0,r.jsx)(k.Z,{className:"w-4 h-4"}),e?"Notebook":"Blackboard"]}),(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2 text-balance ".concat(e?"font-[family-name:var(--font-chalk)] text-foreground":"font-[family-name:var(--font-handwritten)] text-gray-900"),children:"\uD83E\uDD8C DeerDiary"}),(0,r.jsx)("p",{className:"text-lg ".concat(e?"font-[family-name:var(--font-chalk)] text-foreground":"font-[family-name:var(--font-handwritten)] text-gray-700"),children:e?"Write your thoughts on the blackboard":"Capture your daily moments in your special notebook"}),(0,r.jsx)("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2",children:(0,r.jsxs)(l.z,{onClick:()=>_(!L),variant:"ghost",size:"sm",className:"bg-transparent pointer-events-auto relative",children:[(0,r.jsx)(z,{className:"w-5 h-5 text-yellow-500"}),L&&(0,r.jsxs)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-yellow-100 text-yellow-800 px-3 py-2 rounded-lg text-sm whitespace-nowrap shadow-lg border border-yellow-200",children:["\uD83D\uDCA1 Tip: Click and drag on the background to draw!",(0,r.jsx)("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-yellow-100 border-l border-t border-yellow-200 rotate-45"})]})]})})]}),(0,r.jsxs)(i.Zb,{className:"glass-card mb-8 border-2 pointer-events-auto ".concat(e?"bg-card/90 border-border":"bg-white/90 border-blue-200"),children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2 text-card-foreground font-[family-name:var(--font-handwritten)] text-xl relative",children:[(0,r.jsx)(C.Z,{className:"w-5 h-5"}),"Today's Entry - ",new Date().toLocaleDateString()]})})}),(0,r.jsxs)(i.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative mb-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-card-foreground font-[family-name:var(--font-handwritten)] relative",children:"How's the weather?"})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(e=>(0,r.jsxs)(l.z,{variant:a===e.value?"default":"secondary",size:"sm",onClick:()=>o(e.value),className:"flex items-center gap-2",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative mb-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-card-foreground font-[family-name:var(--font-handwritten)] relative",children:"How are you feeling?"})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.map(e=>(0,r.jsxs)(l.z,{variant:m===e.value?"default":"secondary",size:"sm",onClick:()=>h(e.value),className:"flex items-center gap-2",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative mb-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-card-foreground font-[family-name:var(--font-handwritten)] relative",children:"Who did you spend time with?"})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,r.jsxs)(l.z,{variant:v===e.value?"default":"secondary",size:"sm",onClick:()=>x(e.value),className:"flex items-center gap-2",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative mb-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-card-foreground font-[family-name:var(--font-handwritten)] relative",children:"What happened today?"})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(d,{placeholder:"Share your thoughts, experiences, and memories from today...",value:f,onChange:e=>g(e.target.value),className:"min-h-32 bg-input/50 border-border/50 text-card-foreground placeholder:text-muted-foreground resize-none font-[family-name:var(--font-handwritten)] text-base relative z-10"})})]}),(0,r.jsx)(l.z,{onClick:()=>{f.trim()&&(p([{id:Date.now(),date:new Date().toLocaleDateString(),weather:a,mood:m,company:v,text:f,timestamp:new Date().toLocaleTimeString()},...b]),o(""),h(""),x(""),g(""))},className:"w-full",disabled:!f.trim(),children:"Save Entry"})]})]}),b.length>0&&(0,r.jsxs)("div",{className:"space-y-4 pointer-events-auto",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4 ".concat(e?"font-[family-name:var(--font-chalk)] text-foreground":"font-[family-name:var(--font-handwritten)] text-gray-900"),children:"Previous Entries"}),b.map(t=>(0,r.jsxs)(i.Zb,{className:"glass-card border-2 ".concat(e?"bg-card/80 border-border":"bg-white/80 border-blue-100"),children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(i.ll,{className:"text-lg text-card-foreground",children:t.date}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:t.timestamp})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.weather&&(0,r.jsx)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:(()=>{let e=Y(S,t.weather);return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.icon,{className:"w-3 h-3"}),e.label]}):null})()}),t.mood&&(0,r.jsx)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:(()=>{let e=Y(Z,t.mood);return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.icon,{className:"w-3 h-3"}),e.label]}):null})()}),t.company&&(0,r.jsx)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:(()=>{let e=Y(D,t.company);return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.icon,{className:"w-3 h-3"}),e.label]}):null})()})]})]}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("p",{className:"text-card-foreground leading-relaxed text-pretty font-[family-name:var(--font-handwritten)] text-base",children:t.text})})]},t.id))]})]})]})}},6835:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var r=a(288);a(5192);var n=a(119),s=a(7940),i=a(6056);let l=(0,s.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,asChild:s=!1,...o}=e,d=s?n.g7:"span";return(0,r.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:a}),t),...o})}},7719:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var r=a(288);a(5192);var n=a(119),s=a(7940),i=a(6056);let l=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:s,asChild:o=!1,...d}=e,c=o?n.g7:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:s,className:t})),...d})}},1676:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return s},aY:function(){return o},ll:function(){return l}});var r=a(288);a(5192);var n=a(6056);function s(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...a})}},6056:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(9773),n=a(7009);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[117,24,240,744],function(){return e(e.s=5289)}),_N_E=e.O()}]);