(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{1279:function(e,t,a){Promise.resolve().then(a.bind(a,8626))},8626:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var n=a(288),r=a(5192),s=a(1204),o=a(1676),l=a(7719),i=a(6835),c=a(2019),d=a(1276),u=a(4552),g=a(5406),h=a(5887),m=a(8566),x=a(5517),f=a(1741),v=a(7393),b=a(1258),p=a(7928),y=a(6021);let w=(0,y.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var j=a(6650),k=a(5415);let N=(0,y.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),z=[{icon:c.Z,label:"Sunny",value:"sunny"},{icon:d.Z,label:"Cloudy",value:"cloudy"},{icon:u.Z,label:"Rainy",value:"rainy"},{icon:g.Z,label:"Snowy",value:"snowy"}],D=[{icon:h.Z,label:"Happy",value:"happy",color:"bg-green-500/20 text-green-300"},{icon:m.Z,label:"Loved",value:"loved",color:"bg-pink-500/20 text-pink-300"},{icon:x.Z,label:"Okay",value:"okay",color:"bg-yellow-500/20 text-yellow-300"},{icon:f.Z,label:"Sad",value:"sad",color:"bg-blue-500/20 text-blue-300"}],M=[{icon:v.Z,label:"Alone",value:"alone"},{icon:b.Z,label:"Family",value:"family"},{icon:p.Z,label:"Friends",value:"friends"},{icon:m.Z,label:"Partner",value:"partner"}];function C(){let[e,t]=(0,r.useState)(!1),[a,d]=(0,r.useState)(null),[u,g]=(0,r.useState)(new Date),[h,m]=(0,r.useState)([{date:"9/8/2025",weather:"sunny",mood:"happy",company:"friends",text:"Had a wonderful day at the park with my friends! We played frisbee and had a picnic.",timestamp:"2:30 PM"},{date:"9/7/2025",weather:"cloudy",mood:"okay",company:"alone",text:"Quiet day at home reading a good book. Sometimes solitude is exactly what you need.",timestamp:"7:45 PM"}]),[x,f]=(0,r.useState)(!1),[v]=(0,r.useState)(new Date),b=(0,r.useRef)(null),[p,y]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("deerDiary-darkMode");if(e){let a="true"===e;t(a),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},[]),(0,r.useEffect)(()=>{let e=b.current;if(!e)return;let t=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);let Z=e=>{y(!0);let t=b.current;if(!t)return;let a=t.getBoundingClientRect(),n="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY;S({x:n-a.left,y:r-a.top})},E=t=>{if(!p||!C)return;let a=b.current,n=null==a?void 0:a.getContext("2d");if(!a||!n)return;let r=a.getBoundingClientRect(),s="touches"in t?t.touches[0].clientX:t.clientX,o="touches"in t?t.touches[0].clientY:t.clientY,l={x:s-r.left,y:o-r.top};n.beginPath(),n.moveTo(C.x,C.y),n.lineTo(l.x,l.y),e?(n.strokeStyle="#f0f0f0",n.lineWidth=4,n.lineCap="round",n.globalAlpha=.8,n.shadowBlur=2,n.shadowColor="#ffffff"):(n.strokeStyle="#2d3748",n.lineWidth=2,n.lineCap="round",n.globalAlpha=.7,n.shadowBlur=0),n.stroke(),S(l)},F=()=>{y(!1),S(null)};(0,r.useEffect)(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);let Y=e=>{let t="".concat(u.getMonth()+1,"/").concat(e,"/").concat(u.getFullYear());return h.find(e=>e.date===t)},L=(e,t)=>e.find(e=>e.value===t),_=["January","February","March","April","May","June","July","August","September","October","November","December"],A=e=>{let t=new Date;return e===t.getDate()&&u.getMonth()===t.getMonth()&&u.getFullYear()===t.getFullYear()},B=a?h.find(e=>e.date===a):null;return(0,n.jsxs)("div",{className:"min-h-screen ".concat(e?"blackboard-bg dark":"notebook-bg"," relative overflow-hidden"),children:[(0,n.jsx)("canvas",{ref:b,className:"absolute inset-0 z-5 pointer-events-auto cursor-crosshair",onMouseDown:Z,onMouseMove:E,onMouseUp:F,onMouseLeave:F,onTouchStart:Z,onTouchMove:E,onTouchEnd:F,style:{touchAction:"none"}}),(0,n.jsxs)("div",{className:"relative z-10 container mx-auto px-4 py-8 max-w-6xl pointer-events-none",children:[(0,n.jsxs)("header",{className:"text-center mb-8 relative",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 z-20",children:(0,n.jsx)(s.default,{href:"/",children:(0,n.jsxs)(l.z,{variant:"outline",size:"sm",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 border-gray-300 pointer-events-auto",onClick:()=>console.log("[v0] Back to Diary clicked"),children:[(0,n.jsx)(w,{className:"w-4 h-4"}),"Back to DeerDiary"]})})}),(0,n.jsx)("div",{className:"absolute top-0 right-0 z-20",children:(0,n.jsxs)(l.z,{onClick:()=>{console.log("[v0] Dark mode toggle clicked, current state:",e);let a=!e;t(a),localStorage.setItem("deerDiary-darkMode",a.toString()),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let n=b.current,r=null==n?void 0:n.getContext("2d");n&&r&&r.clearRect(0,0,n.width,n.height)},variant:"outline",size:"sm",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 border-gray-300 pointer-events-auto",children:[e?(0,n.jsx)(c.Z,{className:"w-4 h-4"}):(0,n.jsx)(j.Z,{className:"w-4 h-4"}),e?"Notebook":"Blackboard"]})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-2 text-balance ".concat(e?"font-[family-name:var(--font-chalk)] text-foreground":"font-[family-name:var(--font-handwritten)] text-gray-900"),children:"\uD83E\uDD8C DeerDiary History"}),!e&&(0,n.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,n.jsx)("div",{className:"absolute -top-2 -left-4 text-red-400 text-lg rotate-12",children:"⭐"}),(0,n.jsx)("div",{className:"absolute -top-1 right-8 text-blue-400 text-sm -rotate-6",children:"♪"}),(0,n.jsx)("div",{className:"absolute -bottom-2 left-12 text-green-400 text-xs rotate-45",children:"✿"}),(0,n.jsx)("div",{className:"absolute -bottom-1 -right-2 text-purple-400 text-lg -rotate-12",children:"♡"})]}),e&&(0,n.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,n.jsx)("div",{className:"absolute -top-2 -left-4 text-green-300 text-lg rotate-12 opacity-60",children:"★"}),(0,n.jsx)("div",{className:"absolute -top-1 right-8 text-yellow-300 text-sm -rotate-6 opacity-60",children:"♫"}),(0,n.jsx)("div",{className:"absolute -bottom-2 left-12 text-pink-300 text-xs rotate-45 opacity-60",children:"❀"}),(0,n.jsx)("div",{className:"absolute -bottom-1 -right-2 text-blue-300 text-lg -rotate-12 opacity-60",children:"♥"})]})]}),(0,n.jsxs)("p",{className:"text-lg ".concat(e?"font-[family-name:var(--font-chalk)] text-foreground":"font-[family-name:var(--font-handwritten)] text-gray-700"),children:[_[u.getMonth()]," ",u.getFullYear()]})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)(o.Zb,{className:"glass-card border-2 w-full max-w-4xl pointer-events-auto ".concat(e?"bg-card/90 border-border":"bg-white/90 border-pink-200"),children:[(0,n.jsx)(o.Ol,{className:"pb-8",children:(0,n.jsxs)(o.ll,{className:"flex items-center justify-between text-2xl ".concat(e?"text-foreground font-[family-name:var(--font-chalk)]":"text-gray-900 font-[family-name:var(--font-handwritten)]"),children:[(0,n.jsx)(l.z,{variant:"ghost",size:"lg",onClick:()=>g(new Date(u.getFullYear(),u.getMonth()-1)),className:"hover:bg-white/10",children:"←"}),(0,n.jsxs)("span",{children:[_[u.getMonth()]," ",u.getFullYear()]}),(0,n.jsx)(l.z,{variant:"ghost",size:"lg",onClick:()=>g(new Date(u.getFullYear(),u.getMonth()+1)),className:"hover:bg-white/10",children:"→"})]})}),(0,n.jsxs)(o.aY,{className:"px-8 pb-8",children:[(0,n.jsx)("div",{className:"grid grid-cols-7 gap-3 mb-6",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>(0,n.jsx)("div",{className:"text-center text-lg font-medium p-3 ".concat(e?"text-muted-foreground":"text-gray-600"),children:t},t))}),(0,n.jsx)("div",{className:"grid grid-cols-7 gap-3",children:(()=>{let e=u.getFullYear(),t=u.getMonth(),a=new Date(e,t,1),n=new Date(e,t+1,0).getDate(),r=a.getDay(),s=[];for(let e=0;e<r;e++)s.push(null);for(let e=1;e<=n;e++)s.push(e);return s})().map((t,r)=>{if(!t)return(0,n.jsx)("div",{className:"p-3"},r);let s=Y(t),o="".concat(u.getMonth()+1,"/").concat(t,"/").concat(u.getFullYear()),i=!!s,c=A(t),g="p-3 h-16 relative text-lg font-medium";return a===o?g+=e?" ring-2 ring-blue-400 bg-blue-400/30":" ring-2 ring-pink-400 bg-pink-200":c?g+=e?" ring-2 ring-green-400 bg-green-400/20":" ring-2 ring-yellow-500 bg-yellow-100":i?g+=e?" hover:bg-secondary/30":" hover:bg-pink-50 hover:text-gray-900":g+=e?" hover:bg-white/10":" hover:bg-yellow-50 hover:text-gray-900",(0,n.jsxs)(l.z,{variant:"ghost",className:g,onClick:()=>{console.log("[v0] Calendar day clicked:",t,"Has entry:",i),d(o),f(!0),console.log("[v0] Modal should open for date:",o)},children:[t,i&&(0,n.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-2 h-2 rounded-full ".concat(e?"bg-primary":"bg-pink-500")}),c&&(0,n.jsx)("div",{className:"absolute top-1 right-1 text-xs font-bold text-red-500",children:"•"})]},t)})})]})]})})]}),x&&a&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)(o.Zb,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto ".concat(e?"bg-card border-border":"bg-white border-pink-200"),children:[(0,n.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between",children:[(0,n.jsxs)(o.ll,{className:"flex items-center gap-2 ".concat(e?"text-foreground font-[family-name:var(--font-chalk)]":"text-gray-900 font-[family-name:var(--font-handwritten)]"),children:[(0,n.jsx)(k.Z,{className:"w-5 h-5"}),B?"Entry for ".concat(a):"No entry for ".concat(a)]}),(0,n.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>f(!1),className:"hover:bg-white/10",children:(0,n.jsx)(N,{className:"w-4 h-4"})})]}),(0,n.jsx)(o.aY,{className:"space-y-6",children:B?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-3",children:[B.weather&&(0,n.jsx)(i.C,{variant:"secondary",className:"flex items-center gap-2 text-sm px-3 py-1",children:(()=>{let e=L(z,B.weather);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.icon,{className:"w-4 h-4"}),e.label]}):null})()}),B.mood&&(0,n.jsx)(i.C,{variant:"secondary",className:"flex items-center gap-2 text-sm px-3 py-1",children:(()=>{let e=L(D,B.mood);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.icon,{className:"w-4 h-4"}),e.label]}):null})()}),B.company&&(0,n.jsx)(i.C,{variant:"secondary",className:"flex items-center gap-2 text-sm px-3 py-1",children:(()=>{let e=L(M,B.company);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.icon,{className:"w-4 h-4"}),e.label]}):null})()})]}),(0,n.jsx)("div",{className:"p-6 rounded-lg ".concat(e?"bg-muted/50":"bg-gray-50"),children:(0,n.jsx)("p",{className:"leading-relaxed text-pretty text-lg ".concat(e?"text-foreground font-[family-name:var(--font-chalk)]":"text-gray-900 font-[family-name:var(--font-handwritten)]"),children:B.text})}),(0,n.jsxs)("p",{className:"text-sm ".concat(e?"text-muted-foreground":"text-gray-500"),children:["Written at ",B.timestamp]})]}):(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("p",{className:"text-lg mb-4 ".concat(e?"text-muted-foreground font-[family-name:var(--font-chalk)]":"text-gray-600 font-[family-name:var(--font-handwritten)]"),children:"No diary entry for this date yet."}),(0,n.jsx)(s.default,{href:"/",children:(0,n.jsx)(l.z,{variant:"outline",className:"mt-2 bg-transparent",children:"Create New DeerDiary Entry"})})]})})]})})]})}},6835:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var n=a(288);a(5192);var r=a(119),s=a(7940),o=a(6056);let l=(0,s.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,asChild:s=!1,...i}=e,c=s?r.g7:"span";return(0,n.jsx)(c,{"data-slot":"badge",className:(0,o.cn)(l({variant:a}),t),...i})}},7719:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var n=a(288);a(5192);var r=a(119),s=a(7940),o=a(6056);let l=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:a,size:s,asChild:i=!1,...c}=e,d=i?r.g7:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,o.cn)(l({variant:a,size:s,className:t})),...c})}},1676:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},Zb:function(){return s},aY:function(){return i},ll:function(){return l}});var n=a(288);a(5192);var r=a(6056);function s(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},6056:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var n=a(9773),r=a(7009);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}}},function(e){e.O(0,[117,24,240,744],function(){return e(e.s=1279)}),_N_E=e.O()}]);